name: Check if newly added TeX files is compilable
on: [pull_request, issue_comment]
jobs:
  check_if_compilable:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v23.1

      - name: List all changed files
        run: |
          for file in ${{ steps.changed-files.outputs.all_changed_files }}; do
            echo "$file was changed"
          done
      
      - name: Get templates from cosmsstar/templates
        run: |
          curl -H 'Authorization: token ${{ secrets.SECRET_TOKEN }}' \
          -H 'Accept: application/vnd.github.v4.raw' \
          -O \
          -L https://api.github.com/repos/cosmsstar/templates/contents/answer.cls
          ls
